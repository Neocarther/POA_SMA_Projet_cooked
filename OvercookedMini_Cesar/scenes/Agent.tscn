[gd_scene load_steps=4 format=3 uid="uid://cxfocs43fno6m"]

[ext_resource type="Script" uid="uid://cgny45wr4phuq" path="res://scripts/agent/Agent.gd" id="1"]
[ext_resource type="Script" uid="uid://cqgra0yu4x0ej" path="res://scripts/ai/FSM.gd" id="2"]

[sub_resource type="RectangleShape2D" id="1"]
size = Vector2(36, 36)

[node name="Agent" type="CharacterBody2D"]
script = ExtResource("1")

[node name="Sprite2D" type="Sprite2D" parent="."]
modulate = Color(0.9, 0.9, 0.2, 1)
scale = Vector2(0.8, 0.8)

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
shape = SubResource("1")

[node name="NavigationAgent2D" type="NavigationAgent2D" parent="."]
path_desired_distance = 4.0
target_desired_distance = 8.0
radius = 12.0
max_speed = 180.0

[node name="FSM" type="Node" parent="."]
script = ExtResource("2")

[node name="AgentStateLabel" type="Label" parent="."]
offset_left = -32.0
offset_top = 24.0
offset_right = 28.0
offset_bottom = 47.0
text = "ÉTAT: ..."

[node name="CarryAnchor" type="Node2D" parent="."]
position = Vector2(0, -28)   # l’item apparaîtra juste au-dessus de la tête

